---
import type { CollectionEntry } from 'astro:content'
import LayoutBase from '@layouts/Base/index.astro'
import Image from '@components/core/Image.astro'
import Title from './Title.astro'
import styles from './index.module.css'

type Props = CollectionEntry<'articles' | 'links' | 'photos'> & {
  lead?: string // comes in through remark plugin as html
}

const { data, lead } = Astro.props
const { title, date, updated, image, linkurl } = data
---

<LayoutBase title={title}>
  <article class={styles.entry}>
    <header>
      <Title linkurl={linkurl} title={title} date={date} updated={updated} />
    </header>

    {lead && <div class={styles.lead} set:html={lead} />}

    {
      image && (
        <div class={styles.image}>
          <Image width={1040} height={460} image={image} alt={title} />
        </div>
      )
    }

    <slot />
  </article>
</LayoutBase>
